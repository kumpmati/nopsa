var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function g(){return f("")}function m(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function h(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function y(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function k(t,e,n){t.classList[n?"add":"remove"](e)}let _;function x(t){_=t}function j(){const t=function(){if(!_)throw new Error("Function called outside component initialization");return _}();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const l=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);s.slice().forEach((e=>{e.call(t,l)}))}}}const w=[],C=[],S=[],E=[],D=Promise.resolve();let L=!1;function N(t){S.push(t)}let A=!1;const O=new Set;function P(){if(!A){A=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];x(e),q(e.$$)}for(x(null),w.length=0;C.length;)C.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];O.has(e)||(O.add(e),e())}S.length=0}while(w.length);for(;E.length;)E.pop()();L=!1,A=!1,O.clear()}}function q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const T=new Set;let I;function F(){I={r:0,c:[],p:I}}function M(){I.r||l(I.c),I=I.p}function G(t,e){t&&t.i&&(T.delete(t),t.i(e))}function H(t,e,n,s){if(t&&t.o){if(T.has(t))return;T.add(t),I.c.push((()=>{T.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function R(t){t&&t.c()}function z(t,e,s){const{fragment:c,on_mount:a,on_destroy:o,after_update:i}=t.$$;c&&c.m(e,s),N((()=>{const e=a.map(n).filter(r);o?o.push(...e):l(e),t.$$.on_mount=[]})),i.forEach(N)}function B(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(w.push(t),L||(L=!0,D.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,n,r,c,a,o,u=[-1]){const d=_;x(e);const f=n.props||{},p=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:s(),dirty:u,skip_bound:!1};let g=!1;if(p.ctx=r?r(e,f,((t,n,...s)=>{const l=s.length?s[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=l)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](l),g&&J(e,t)),n})):[],p.update(),g=!0,l(p.before_update),p.fragment=!!c&&c(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();n.intro&&G(e.$$.fragment),z(e,n.target,n.anchor),P()}x(d)}class W{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(e){let n;return{c(){n=d("span"),n.textContent="âŸ³",v(n,"class","spinner svelte-1tacnfi"),k(n,"visible",e[0])},m(t,e){o(t,n,e)},p(t,[e]){1&e&&k(n,"visible",t[0])},i:t,o:t,d(t){t&&i(n)}}}function Z(t,e,n){let{active:s}=e;return t.$$set=t=>{"active"in t&&n(0,s=t.active)},[s]}class Q extends W{constructor(t){super(),K(this,t,Z,Y,c,{active:0})}}function U(t){let e,n;return{c(){e=d("h1"),n=f(t[2]),v(e,"id","message"),v(e,"class","svelte-ku7auo")},m(t,s){o(t,e,s),a(e,n)},p(t,e){4&e&&$(n,t[2])},d(t){t&&i(e)}}}function V(e){let n,s,l;return{c(){n=d("input"),v(n,"type","submit"),n.value="Reset"},m(t,r){o(t,n,r),s||(l=m(n,"click",e[4]),s=!0)},p:t,d(t){t&&i(n),s=!1,l()}}}function X(e){let n;return{c(){n=d("label"),n.innerHTML="<b>Open</b> transcript",v(n,"for","file-input"),v(n,"class","svelte-ku7auo")},m(t,e){o(t,n,e)},p:t,d(t){t&&i(n)}}}function tt(t){let e,n,s,r,c,u,f,g,h,$,b,y=t[2]&&U(t);function _(t,e){return t[3]?V:X}let x=_(t),j=x(t);return g=new Q({props:{active:t[1]}}),{c(){e=d("section"),y&&y.c(),n=p(),s=d("div"),r=d("input"),c=p(),j.c(),u=p(),f=d("span"),R(g.$$.fragment),v(r,"id","file-input"),v(r,"type","file"),v(r,"accept",".pdf"),v(r,"class","svelte-ku7auo"),v(f,"id","spinner"),v(f,"class","svelte-ku7auo"),k(f,"hidden",!t[1]),v(s,"id","dropzone"),v(s,"class","svelte-ku7auo"),v(e,"class","svelte-ku7auo")},m(l,i){o(l,e,i),y&&y.m(e,null),a(e,n),a(e,s),a(s,r),a(s,c),j.m(s,null),a(s,u),a(s,f),z(g,f,null),h=!0,$||(b=[m(r,"change",t[5]),m(r,"change",t[6])],$=!0)},p(t,[l]){t[2]?y?y.p(t,l):(y=U(t),y.c(),y.m(e,n)):y&&(y.d(1),y=null),x===(x=_(t))&&j?j.p(t,l):(j.d(1),j=x(t),j&&(j.c(),j.m(s,u)));const r={};2&l&&(r.active=t[1]),g.$set(r),2&l&&k(f,"hidden",!t[1])},i(t){h||(G(g.$$.fragment,t),h=!0)},o(t){H(g.$$.fragment,t),h=!1},d(t){t&&i(e),y&&y.d(),j.d(),B(g),$=!1,l(b)}}}function et(t,e,n){let{submit:s}=e,{loading:l}=e,{message:r}=e;const c=j();let a=null;return t.$$set=t=>{"submit"in t&&n(0,s=t.submit),"loading"in t&&n(1,l=t.loading),"message"in t&&n(2,r=t.message)},[s,l,r,a,()=>{document.querySelector("#file-input").value=null,n(3,a=null),c("reset")},function(){a=this.files,n(3,a)},()=>s(a&&a[0])]}class nt extends W{constructor(t){super(),K(this,t,et,tt,c,{submit:0,loading:1,message:2})}}const st={Y:"General Studies",P:"Basic Studies",A:"Intermediate Studies",S:"Advanced Studies",J:"Postgraduate Studies",K:"Language Studies",V:"Preparatory Studies",H:"Practical Training",O:"Study Module"};function lt(e){let n,s,l,r,c,u,g,m,h,b,y,k,_,x,j,w,C,S,E,D,L=e[4].toLocaleDateString()+"";return{c(){n=d("tr"),s=d("td"),l=f(e[1]),r=p(),c=d("td"),u=d("a"),g=f(e[0]),h=p(),b=d("td"),y=f(e[2]),k=p(),_=d("td"),x=f(e[3]),j=p(),w=d("td"),C=f(e[5]),S=p(),E=d("td"),D=f(L),v(s,"class","name svelte-5do9a0"),v(u,"href",m=`https://opas.peppi.utu.fi/fi/haku/${e[0]}`),v(u,"target","_blank"),v(u,"referrerpolicy","no-referrer"),v(u,"class","svelte-5do9a0"),v(c,"class","code svelte-5do9a0"),v(b,"class","grade svelte-5do9a0"),v(_,"class","credits svelte-5do9a0"),v(w,"class","level svelte-5do9a0"),v(E,"class","date svelte-5do9a0")},m(t,e){o(t,n,e),a(n,s),a(s,l),a(n,r),a(n,c),a(c,u),a(u,g),a(n,h),a(n,b),a(b,y),a(n,k),a(n,_),a(_,x),a(n,j),a(n,w),a(w,C),a(n,S),a(n,E),a(E,D)},p(t,[e]){2&e&&$(l,t[1]),1&e&&$(g,t[0]),1&e&&m!==(m=`https://opas.peppi.utu.fi/fi/haku/${t[0]}`)&&v(u,"href",m),4&e&&$(y,t[2]),8&e&&$(x,t[3]),32&e&&$(C,t[5]),16&e&&L!==(L=t[4].toLocaleDateString()+"")&&$(D,L)},i:t,o:t,d(t){t&&i(n)}}}function rt(t,e,n){let s,{code:l=""}=e,{name:r=""}=e,{grade:c=0}=e,{credits:a=0}=e,{level:o=""}=e,{date:i=null}=e;return t.$$set=t=>{"code"in t&&n(0,l=t.code),"name"in t&&n(1,r=t.name),"grade"in t&&n(2,c=t.grade),"credits"in t&&n(3,a=t.credits),"level"in t&&n(6,o=t.level),"date"in t&&n(4,i=t.date)},t.$$.update=()=>{64&t.$$.dirty&&n(5,s=st[o]||"")},[l,r,c,a,i,s,o]}class ct extends W{constructor(t){super(),K(this,t,rt,lt,c,{code:0,name:1,grade:2,credits:3,level:6,date:4})}}function at(t,e,n){const s=t.slice();return s[12]=e[n][0],s[13]=e[n][1],s}function ot(t){let e,n,s,c,f,g,h,$,k,_,x,j,w,C,S,E,D,L,A,O,P,q,T,I,F,M,G,H,R,z,B,J=Object.entries(st),K=[];for(let e=0;e<J.length;e+=1)K[e]=it(at(t,J,e));return{c(){e=d("form"),n=d("fieldset"),s=d("h2"),s.textContent="Grades",c=p(),f=d("label"),g=d("h3"),g.textContent="Type",h=p(),$=d("select"),k=d("option"),k.textContent="All",_=d("option"),_.textContent="Numeric only",x=d("option"),x.textContent="Pass/Fail only",j=p(),w=d("fieldset"),C=d("h2"),C.textContent="Date",S=p(),E=d("label"),D=d("h3"),D.textContent="Start date",L=p(),A=d("input"),O=p(),P=d("label"),q=d("h3"),q.textContent="End date",T=p(),I=d("input"),F=p(),M=d("fieldset"),G=d("h2"),G.textContent="Level",H=p(),R=d("span");for(let t=0;t<K.length;t+=1)K[t].c();v(s,"class","svelte-y45635"),v(g,"class","svelte-y45635"),k.__value="all",k.value=k.__value,v(k,"class","svelte-y45635"),_.__value="numeric",_.value=_.__value,v(_,"class","svelte-y45635"),x.__value="pass-fail",x.value=x.__value,v(x,"class","svelte-y45635"),v($,"class","svelte-y45635"),void 0===t[1]&&N((()=>t[6].call($))),v(f,"class","svelte-y45635"),v(n,"class","_50 svelte-y45635"),v(n,"id","grades"),v(C,"class","svelte-y45635"),v(D,"class","svelte-y45635"),v(A,"type","date"),v(A,"max",t[3]),v(A,"class","svelte-y45635"),v(E,"class","svelte-y45635"),v(q,"class","svelte-y45635"),v(I,"type","date"),v(I,"min",t[2]),v(I,"class","svelte-y45635"),v(P,"class","svelte-y45635"),v(w,"class","_50 svelte-y45635"),v(w,"id","dates"),v(G,"class","svelte-y45635"),v(R,"id","selected-levels"),v(R,"class","svelte-y45635"),v(M,"class","_100 svelte-y45635"),v(e,"class","svelte-y45635")},m(l,i){o(l,e,i),a(e,n),a(n,s),a(n,c),a(n,f),a(f,g),a(f,h),a(f,$),a($,k),a($,_),a($,x),y($,t[1]),a(e,j),a(e,w),a(w,C),a(w,S),a(w,E),a(E,D),a(E,L),a(E,A),b(A,t[2]),a(w,O),a(w,P),a(P,q),a(P,T),a(P,I),b(I,t[3]),a(e,F),a(e,M),a(M,G),a(M,H),a(M,R);for(let t=0;t<K.length;t+=1)K[t].m(R,null);z||(B=[m($,"blur",(function(){r(t[5])&&t[5].apply(this,arguments)})),m($,"change",t[6]),m(A,"change",(function(){r(t[5])&&t[5].apply(this,arguments)})),m(A,"input",t[7]),m(I,"change",(function(){r(t[5])&&t[5].apply(this,arguments)})),m(I,"input",t[8])],z=!0)},p(e,n){if(t=e,2&n&&y($,t[1]),8&n&&v(A,"max",t[3]),4&n&&b(A,t[2]),4&n&&v(I,"min",t[2]),8&n&&b(I,t[3]),16&n){let e;for(J=Object.entries(st),e=0;e<J.length;e+=1){const s=at(t,J,e);K[e]?K[e].p(s,n):(K[e]=it(s),K[e].c(),K[e].m(R,null))}for(;e<K.length;e+=1)K[e].d(1);K.length=J.length}},d(t){t&&i(e),u(K,t),z=!1,l(B)}}}function it(t){let e,n,s,l,r,c,u,g,h,$,b=t[13]+"";function y(){return t[9](t[12])}return{c(){e=d("label"),n=d("input"),r=p(),c=d("h3"),u=f(b),g=p(),v(n,"type","checkbox"),n.value=s=t[12],n.checked=l=-1!==t[4].indexOf(t[12]),v(n,"class","svelte-y45635"),v(e,"class","svelte-y45635")},m(t,s){o(t,e,s),a(e,n),a(e,r),a(e,c),a(c,u),a(e,g),h||($=m(n,"click",y),h=!0)},p(e,s){t=e,16&s&&l!==(l=-1!==t[4].indexOf(t[12]))&&(n.checked=l)},d(t){t&&i(e),h=!1,$()}}}function ut(e){let n,s=e[0]&&ot(e);return{c(){s&&s.c(),n=g()},m(t,e){s&&s.m(t,e),o(t,n,e)},p(t,[e]){t[0]?s?s.p(t,e):(s=ot(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&i(n)}}}function dt(t,e,n){let{visible:s}=e;const l=j();let r="all",c=new Date(0),a=new Date,o=[];let i,u;return t.$$set=t=>{"visible"in t&&n(0,s=t.visible)},t.$$.update=()=>{30&t.$$.dirty&&n(10,i=t=>function(t,e){switch(e.grades){case"all":default:break;case"numeric":if(!parseInt(t.grade))return!1;break;case"pass-fail":if(parseInt(t.grade))return!1}const{start:n,end:s}=e.date_range;return!(t.date<=new Date(n)||t.date>=new Date(s)||e.study_levels.length>0&&!e.study_levels.includes(t.level))}(t,{grades:r,date_range:{start:c,end:a},study_levels:o})),1024&t.$$.dirty&&n(5,u=l("update",i))},[s,r,c,a,o,u,function(){r=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(1,r)},function(){c=this.value,n(2,c)},function(){a=this.value,n(3,a)},t=>n(4,o=((t,e)=>{const n=t.indexOf(e);return-1!==n?t.splice(n,1):t.push(e),t})(o,t))]}class ft extends W{constructor(t){super(),K(this,t,dt,ut,c,{visible:0})}}var pt={gpa:t=>{const e=t.reduce(((t,e)=>parseInt(e.grade)?t+e.credits:t),0),n=t.reduce(((t,e)=>parseInt(e.grade)?t+e.credits*e.grade:t),0);return e>0?(n/e).toFixed(2):"N/A"},mostFrequent:function(t,e){const n=t.slice(0,t.length),s=n.sort(((t,s)=>n.filter((n=>e(n)===e(t))).length-n.filter((t=>e(t)===e(s))).length)).pop();return s?e(s):"N/A"}};function gt(t,e,n){const s=t.slice();return s[9]=e[n],s}function mt(t){let e,n,s,r,c,u,g,b,y,_,x,j,w,C,S,E,D,L,N,A,O,P,q,T,I,J,K,W,Y=t[4].gpa+"",Z=t[4].most_frequent+"",Q=t[4].credits+"";q=new ft({props:{visible:t[2]}}),q.$on("update",t[5]);let U=t[1]&&ht(t);return{c(){e=d("ul"),n=d("li"),s=f("GPA: "),r=d("span"),c=f(Y),u=p(),g=d("li"),b=f("Most frequent grade: "),y=d("span"),_=f(Z),x=p(),j=d("li"),w=f("Credits: "),C=d("span"),S=f(Q),E=p(),D=d("div"),L=d("input"),N=p(),A=d("input"),O=p(),P=d("div"),R(q.$$.fragment),T=p(),I=d("table"),U&&U.c(),v(r,"class","val svelte-oj6grb"),v(r,"title","Pass/Fail courses do not count towards GPA"),v(n,"class","svelte-oj6grb"),v(y,"class","val svelte-oj6grb"),v(g,"class","svelte-oj6grb"),v(C,"class","val svelte-oj6grb"),v(j,"class","svelte-oj6grb"),v(e,"id","analytics"),v(e,"class","svelte-oj6grb"),v(L,"type","submit"),L.value="Courses",v(L,"class","svelte-oj6grb"),k(L,"selected",t[1]),v(A,"type","submit"),A.value="Settings",v(A,"class","svelte-oj6grb"),k(A,"selected",t[2]),v(D,"id","controls"),v(D,"class","svelte-oj6grb"),v(P,"id","details"),v(P,"class","svelte-oj6grb")},m(l,i){o(l,e,i),a(e,n),a(n,s),a(n,r),a(r,c),a(e,u),a(e,g),a(g,b),a(g,y),a(y,_),a(e,x),a(e,j),a(j,w),a(j,C),a(C,S),o(l,E,i),o(l,D,i),a(D,L),a(D,N),a(D,A),o(l,O,i),o(l,P,i),z(q,P,null),a(P,T),a(P,I),U&&U.m(I,null),J=!0,K||(W=[m(L,"click",h(t[6])),m(A,"click",h(t[7]))],K=!0)},p(t,e){(!J||16&e)&&Y!==(Y=t[4].gpa+"")&&$(c,Y),(!J||16&e)&&Z!==(Z=t[4].most_frequent+"")&&$(_,Z),(!J||16&e)&&Q!==(Q=t[4].credits+"")&&$(S,Q),2&e&&k(L,"selected",t[1]),4&e&&k(A,"selected",t[2]);const n={};4&e&&(n.visible=t[2]),q.$set(n),t[1]?U?(U.p(t,e),2&e&&G(U,1)):(U=ht(t),U.c(),G(U,1),U.m(I,null)):U&&(F(),H(U,1,1,(()=>{U=null})),M())},i(t){J||(G(q.$$.fragment,t),G(U),J=!0)},o(t){H(q.$$.fragment,t),H(U),J=!1},d(t){t&&i(e),t&&i(E),t&&i(D),t&&i(O),t&&i(P),B(q),U&&U.d(),K=!1,l(W)}}}function ht(t){let e,n,s,l,r=t[3],c=[];for(let e=0;e<r.length;e+=1)c[e]=vt(gt(t,r,e));const a=t=>H(c[t],1,1,(()=>{c[t]=null}));return{c(){e=d("thead"),e.innerHTML='<tr><th class="svelte-oj6grb">Name</th> \n\t\t\t\t\t<th class="svelte-oj6grb">Code</th> \n\t\t\t\t\t<th class="svelte-oj6grb">Grade</th> \n\t\t\t\t\t<th class="svelte-oj6grb">Credits</th> \n\t\t\t\t\t<th class="svelte-oj6grb">Level</th> \n\t\t\t\t\t<th class="svelte-oj6grb">Date</th></tr>',n=p(),s=d("tbody");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,r){o(t,e,r),o(t,n,r),o(t,s,r);for(let t=0;t<c.length;t+=1)c[t].m(s,null);l=!0},p(t,e){if(8&e){let n;for(r=t[3],n=0;n<r.length;n+=1){const l=gt(t,r,n);c[n]?(c[n].p(l,e),G(c[n],1)):(c[n]=vt(l),c[n].c(),G(c[n],1),c[n].m(s,null))}for(F(),n=r.length;n<c.length;n+=1)a(n);M()}},i(t){if(!l){for(let t=0;t<r.length;t+=1)G(c[t]);l=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)H(c[t]);l=!1},d(t){t&&i(e),t&&i(n),t&&i(s),u(c,t)}}}function vt(t){let n,s;const l=[t[9]];let r={};for(let t=0;t<l.length;t+=1)r=e(r,l[t]);return n=new ct({props:r}),{c(){R(n.$$.fragment)},m(t,e){z(n,t,e),s=!0},p(t,e){const s=8&e?function(t,e){const n={},s={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],a=e[r];if(a){for(const t in c)t in a||(s[t]=1);for(const t in a)l[t]||(n[t]=a[t],l[t]=1);t[r]=a}else for(const t in c)l[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(l,[(r=t[9],"object"==typeof r&&null!==r?r:{})]):{};var r;n.$set(s)},i(t){s||(G(n.$$.fragment,t),s=!0)},o(t){H(n.$$.fragment,t),s=!1},d(t){B(n,t)}}}function $t(t){let e,n,s=t[0]&&mt(t);return{c(){s&&s.c(),e=g()},m(t,l){s&&s.m(t,l),o(t,e,l),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&G(s,1)):(s=mt(t),s.c(),G(s,1),s.m(e.parentNode,e)):s&&(F(),H(s,1,1,(()=>{s=null})),M())},i(t){n||(G(s),n=!0)},o(t){H(s),n=!1},d(t){s&&s.d(t),t&&i(e)}}}function bt(t,e,n){let{courses:s}=e,l=!0,r=!1,c=()=>!0;let a,o;return t.$$set=t=>{"courses"in t&&n(0,s=t.courses)},t.$$.update=()=>{257&t.$$.dirty&&n(3,a=s?s.filter(c):[]),8&t.$$.dirty&&n(4,o={gpa:pt.gpa(a),most_frequent:pt.mostFrequent(a,(t=>t.grade)),credits:a.reduce(((t,e)=>t+e.credits),0)})},[s,l,r,a,o,t=>n(8,c=t.detail),()=>{n(1,l=!l),n(2,r=!1)},()=>{n(2,r=!r),n(1,l=!1)}]}class yt extends W{constructor(t){super(),K(this,t,bt,$t,c,{courses:0})}}async function kt(t){return new Promise(((e,n)=>{const s=new FileReader;s.onload=async()=>{try{const t=await async function(t){const e=pdfjsLib.getDocument(t),n=await e.promise;let s=[];for(let t=1;t<=n.numPages;t++)await n.getPage(t).then((async t=>{const e=(await t.getTextContent()).items,n=_t(e,jt);if(0===n.length)throw new Error("no courses found");n.forEach((t=>{s.push(xt(e,t))}))}));return s}(s.result);e(t)}catch(t){n(t)}},s.readAsDataURL(t)}))}const _t=(t,e)=>t.reduce(((n,s)=>(e.test(s.str)&&n.push(t.indexOf(s)),n)),[]),xt=(t,e)=>{const[n,s,l,r,c,a]=t.slice(e,e+6),[o,i,u]=a.str.split(".");return{code:n.str,name:s.str,credits:parseInt(l.str),level:r.str,grade:c.str,date:new Date(u,i-1,o)}},jt=/\w{4}\d{4}/;function wt(t){let e,n,s,l,r,c,u,f,g,m,h,$,b;return g=new nt({props:{submit:t[3],loading:t[0],message:t[1]}}),g.$on("reset",t[4]),$=new yt({props:{courses:t[2]}}),{c(){e=d("script"),s=p(),l=d("main"),r=d("header"),r.innerHTML='<h1><span id="title-1" class="svelte-1kkukpb">Nettiopsu</span>  <span id="title-2" class="svelte-1kkukpb">Analytics</span></h1> \n\t\t<a id="help" class="button svelte-1kkukpb" target="_blank" referrerpolicy="no-referrer" href="https://github.com/kumpmati/nettiopsu-analytics">?</a>',c=p(),u=d("article"),f=d("section"),R(g.$$.fragment),m=p(),h=d("section"),R($.$$.fragment),e.src!==(n="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js")&&v(e,"src","https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"),v(e,"integrity","sha512-Z8CqofpIcnJN80feS2uccz+pXWgZzeKxDsDNMD/dJ6997/LSRY+W4NmEt9acwR+Gt9OHN0kkI1CTianCwoqcjQ=="),v(e,"crossorigin","anonymous"),v(r,"class","svelte-1kkukpb"),k(r,"small",null!==t[2]),v(f,"id","uploader"),v(f,"class","svelte-1kkukpb"),k(f,"small",null!==t[2]),v(h,"id","results"),v(h,"class","svelte-1kkukpb"),k(h,"small",null===t[2]),v(l,"class","svelte-1kkukpb"),k(l,"small",null===t[2])},m(t,n){a(document.head,e),o(t,s,n),o(t,l,n),a(l,r),a(l,c),a(l,u),a(u,f),z(g,f,null),a(u,m),a(u,h),z($,h,null),b=!0},p(t,[e]){4&e&&k(r,"small",null!==t[2]);const n={};1&e&&(n.loading=t[0]),2&e&&(n.message=t[1]),g.$set(n),4&e&&k(f,"small",null!==t[2]);const s={};4&e&&(s.courses=t[2]),$.$set(s),4&e&&k(h,"small",null===t[2]),4&e&&k(l,"small",null===t[2])},i(t){b||(G(g.$$.fragment,t),G($.$$.fragment,t),b=!0)},o(t){H(g.$$.fragment,t),H($.$$.fragment,t),b=!1},d(t){i(e),t&&i(s),t&&i(l),B(g),B($)}}}function Ct(t,e,n){let s=!1,l=null,r=null;return[s,l,r,async function(t){if(t)try{n(0,s=!0),n(2,r=await kt(t)),n(1,l=null)}catch(t){n(1,l=t)}finally{n(0,s=!1)}},()=>{n(2,r=null),n(1,l=null)}]}return new class extends W{constructor(t){super(),K(this,t,Ct,wt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
