{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Analytics.svelte",
    "Course.svelte",
    "Spinner.svelte",
    "Uploader.svelte"
  ],
  "sourcesContent": [
    "<svelte:head>\r\n  <script\r\n    src=\"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js\"\r\n\t\tintegrity=\"sha512-Z8CqofpIcnJN80feS2uccz+pXWgZzeKxDsDNMD/dJ6997/LSRY+W4NmEt9acwR+Gt9OHN0kkI1CTianCwoqcjQ==\"\r\n\t\tcrossorigin=\"anonymous\">\r\n\t</script>\r\n</svelte:head>\r\n\r\n<script>\r\n\timport Uploader from './components/Uploader.svelte';\r\n\timport Analytics from './components/Analytics/Analytics.svelte';\r\n\timport { analyzePDF } from './parser.js';\r\n\r\n  let loading = false;\r\n  let errMessage = null;\r\n\tlet parsedData = null;\r\n\r\n\t// parses the PDF and extracts all course data from it\r\n\tasync function analyze(file) {\r\n\t\tif(!file) return;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tloading = true;\r\n\t\t\tparsedData = await analyzePDF(file);\r\n\t\t\terrMessage = null;\r\n\t\t} catch(err) {\r\n      errMessage = err;\r\n\t\t} finally {\r\n\t\t\tloading = false;\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<main class:small={parsedData === null}>\r\n\t<header class:small={parsedData !== null}>\r\n\t\t<h1>\r\n\t\t\t<span id=\"title-1\">Nettiopsu</span> <span id=\"title-2\">Analytics</span>\r\n\t\t</h1>\r\n\t</header>\r\n\t<article>\r\n\t\t<section id=\"uploader\" class:small={parsedData !== null}>\r\n      <Uploader\r\n        submit={analyze}\r\n        loading={loading}\r\n        message={errMessage}\r\n        on:reset={() => {\r\n          parsedData = null;\r\n          errMessage = null;\r\n        }}\r\n      />\r\n\t\t</section>\r\n\t\t<section id=\"results\" class:small={parsedData === null}>\r\n      <Analytics courses={parsedData} />\r\n\t\t</section>\r\n\t</article>\r\n</main>\r\n\r\n<style>\r\n\t#title-1 {\r\n\t\tcolor: rgb(68, 132, 223);\r\n\t}\r\n\r\n\t#title-2 {\r\n\t\tfont-style: italic;\r\n\t\tcolor: rgb(255, 255, 255);\r\n\t\tfont-weight: lighter;\r\n\t}\r\n\r\n  main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n\r\n    padding: 1em;\r\n\t\tmargin: 5em auto;\r\n\r\n    border-radius: .5em;\r\n\r\n    width: 50%;\r\n    max-width: 70em;\r\n\r\n    overflow-y: auto;\r\n\r\n    color: rgb(230, 230, 230);\r\n\t\tbackground-color: rgb(50,50,50);\r\n  }\r\n\r\n  main.small {\r\n\t\twidth: 25em;\r\n\t\theight: 20em;\r\n  }\r\n\r\n  header {\r\n\t\tmargin-bottom: 2em;\r\n\t\tz-index: 15;\r\n  }\r\n\r\n  #uploader {\r\n\t\tmargin: 0 auto;\r\n    height: 13em;\r\n    border-radius: .3em;\r\n    \r\n    background-color: var(--light-bg);\r\n\r\n    transition: transform 200ms,\r\n\t\t\tmargin 200ms,\r\n\t\t\twidth 200ms;\r\n  }\r\n\r\n  #uploader.small {\r\n\t\ttop: 0;\r\n\t\tmargin: 0;\r\n    height: 3em;\r\n\t\tbackground: 0;\r\n  }\r\n\r\n  #results {\r\n\t\tmargin-top: 2em;\r\n    width: 100%;\r\n  }\r\n\r\n  #results.small {\r\n    height: 0;\r\n\t\tmargin: 0;\r\n  }\r\n\r\n  @media all and (max-width: 1000px) {\r\n    main {\r\n\t\t\twidth: 100vw;\r\n\t\t\tmax-width: 100vw;\r\n      height: 100vh;\r\n      max-height: 100vh;\r\n\r\n      border-radius: 0;\r\n      margin: 0;\r\n      padding: 1em;\r\n      padding-top: 2em;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\t\t\r\n\t\tmain.small {\r\n\t\t\ttop: 5em;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tborder-radius: .5em;\r\n\t\t\theight: auto;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@media all and (max-width: 700px) {\r\n    main.small {\r\n\t\t\ttop: 0;\r\n\t\t\tborder-radius: 0;\r\n\t\t\twidth: 100vw;\r\n\t\t\theight: 100vh;\r\n    }\r\n\t}\r\n</style>",
    "<script>\r\n  export let courses;\r\n\r\n\timport Course from './Course.svelte';\r\n\timport Settings from './AnalyticsSettings.svelte';\r\n  import stats from './stats';\r\n  \r\n\tlet showCourses = false;\r\n\tlet showSettings = false;\r\n  let courseFilter = () => true;\r\n\tconst handleFilterUpdate = (ns) => (courseFilter = ns.detail);\r\n\r\n  // courses filtered by settings\r\n\t$: filteredCourses = courses ? courses.filter(courseFilter) : [];\r\n  \r\n  // statistics for the visible courses\r\n  $: courseStats = {\r\n\t\tgpa: stats.gpa(filteredCourses),\r\n\t\tmost_frequent: stats.mostFrequent(filteredCourses, course => course.grade),\r\n    credits: filteredCourses.reduce((sum, curr) => sum + curr.credits, 0),\r\n\t}\r\n</script>\r\n\r\n{#if courses}\r\n\t<ul id=\"analytics\">\r\n\t\t<li>GPA: <span class=\"val\" title=\"Pass/Fail courses do not count towards GPA\">{courseStats.gpa}</span></li>\r\n\t\t<li>Credits: <span class=\"val\">{courseStats.credits}</span></li>\r\n\t\t<li>Most frequent grade: <span class=\"val\">{courseStats.most_frequent.grade}</span></li>\r\n\t</ul>\r\n\t<div id=\"controls\">\r\n\t\t<input\r\n\t\t\ttype=\"submit\"\r\n\t\t\tvalue=\"Courses\"\r\n\t\t\tclass:selected={showCourses}\r\n\t\t\ton:click|preventDefault={() => {\r\n\t\t\t\tshowCourses = !showCourses;\r\n\t\t\t\tshowSettings = false;\r\n\t\t\t}}\r\n\t\t/>\r\n\t\t<input type=\"submit\"\r\n\t\t\tvalue=\"Settings\"\r\n\t\t\tclass:selected={showSettings}\r\n\t\t\ton:click|preventDefault={() => {\r\n\t\t\t\tshowSettings = !showSettings;\r\n\t\t\t\tshowCourses = false;\r\n\t\t\t}}\r\n\t\t/>\r\n\t</div>\r\n\t<div id=\"details\">\r\n\t\t{#if showSettings}\r\n\t\t\t<Settings on:update={handleFilterUpdate}/>\r\n\t\t{/if}\r\n\t\t<table>\r\n\t\t\t{#if showCourses}\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t<th>Code</th>\r\n\t\t\t\t\t<th>Grade</th>\r\n\t\t\t\t\t<th>Credits</th>\r\n\t\t\t\t\t<th>Level</th>\r\n\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t{#each filteredCourses as course}\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<Course {...course} />\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t{/each}\r\n\t\t\t{/if}\r\n\t\t</table>\r\n\t</div>\r\n{/if}\r\n\r\n<style>\r\n  #analytics {\r\n\t\tdisplay: grid;\r\n\t\t\r\n\t\tpadding: 2em;\r\n\t\twidth: 75%;\r\n\t\tmargin: 2em auto;\r\n\r\n\t\tborder-radius: .3em;\r\n\r\n\t\tlist-style-type: none;\r\n\t\tbackground-color: var(--light-bg);\r\n  }\r\n\r\n  #analytics > li {\r\n\t\tfont-size: 1.75em;\r\n\t\tcolor: rgb(150,150,150);\r\n    margin: .25em;\r\n\t}\r\n\t\r\n\t.val {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: white;\r\n\t}\r\n\t\r\n\ttable, th {\r\n\t\tborder: 1px solid #666;\r\n\t\tborder-collapse: collapse;\r\n\t}\r\n\r\n\t#controls {\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-evenly;\r\n\t\twidth: 30%;\r\n\t\tmin-width: max-content;\r\n\t}\r\n\r\n\t#controls > * {\r\n\t\tmargin-right: .5em;\r\n\t\tmargin-bottom: 1em;\r\n\t}\r\n\r\n\t#controls .selected {\r\n\t\tcolor: white;\r\n\t}\r\n\t\r\n\t#details {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-rows: repeat(auto-fill, minmax(50%, 1fr));\r\n\t}\r\n\r\n</style>",
    "<script>\r\n  export let code = \"\";\r\n\texport let name = \"\";\r\n\texport let grade = 0;\r\n\texport let credits = 0;\r\n\texport let level = \"\";\r\n  export let date = null;\r\n\r\n  import { studyLevels } from './misc.js';\r\n  $: verboseLevel = studyLevels[level] || \"\";\r\n</script>\r\n\r\n<td class=\"name\">{name}</td>\r\n<td class=\"code\">\r\n  <a href={`https://opas.peppi.utu.fi/fi/haku/${code}`} target=\"_blank\" referrerpolicy=\"no-referrer\">\r\n    {code}\r\n  </a>\r\n</td>\r\n<td class=\"grade\">{grade}</td>\r\n<td class=\"credits\">{credits}</td>\r\n<td class=\"level\">{verboseLevel}</td>\r\n<td class=\"date\">{date.toLocaleDateString()}</td>\r\n\r\n<style>\r\n\t.name {\r\n\t\tfont-weight: light;\r\n\t\tcolor: gray;\r\n\t}\r\n</style>",
    "<span class:visible={active} class=\"spinner\">‚ü≥</span>\r\n\r\n<script>\r\n\texport let active;\r\n</script>\r\n\r\n<style>\r\n\t@keyframes spin {\r\n\t\tfrom { transform: rotate(0) }\r\n\t\tto { transform: rotate(360deg) }\r\n\t}\r\n\r\n\t.spinner {\r\n\t\topacity: 0;\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 1.5em;\r\n\t\twidth: 1em;\r\n\t\theight: 1em;\r\n\t\ttransform-origin: center;\r\n\t\tanimation: spin 500ms infinite;\r\n\t\ttransition: opacity 200ms;\r\n\t}\r\n\r\n\t.spinner.visible {\r\n\t\topacity: 1;\r\n\t}\r\n</style>",
    "<script>\r\n  export let submit;\r\n  export let loading;\r\n  export let message;\r\n\r\n  import Spinner from './Spinner.svelte';\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n  let files = null;\r\n\r\n  // resets file input\r\n  const reset = () => {\r\n    document.querySelector(\"#file-input\").value = null; // resets file input element\r\n    files = null; // resets file list\r\n    dispatch(\"reset\");\r\n  }\r\n</script>\r\n\r\n<section>\r\n\t{#if message}\r\n\t\t<h1 id=\"message\">{message}</h1>\r\n\t{/if}\r\n\t<div id=\"dropzone\">\r\n\t\t<input\r\n\t\t\tid=\"file-input\"\r\n\t\t\ttype=\"file\"\r\n\t\t\taccept=\".pdf\"\r\n\t\t\tbind:files\r\n\t\t\ton:change={() => submit(files && files[0])}\r\n\t\t/>\r\n\t\t{#if !files}\r\n\t\t\t<label for=\"file-input\"><b>Open</b> transcript</label>\r\n\t\t{:else}\t\r\n\t\t\t<input type=\"submit\" value=\"Reset\" on:click={reset} />\r\n\t\t{/if}\r\n\t\t<span id=\"spinner\" class:hidden={!loading}>\r\n\t\t\t<Spinner active={loading} />\r\n\t\t</span>\r\n\t</div>\r\n</section>\r\n\r\n<style>\r\n  section {\r\n    position: relative;\r\n    height: 100%;\r\n\t}\r\n\r\n  #dropzone {\r\n\t\tfont-size: 1.25em;\r\n\r\n    display: grid;\r\n    place-content: center;\r\n    position: absolute; \r\n    top: 0;\r\n    left: 0;\r\n    \r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n\t#dropzone > label {\r\n\t\tcolor: gray;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t#dropzone > label:hover {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n  #file-input {\r\n    display: none;\r\n  }\r\n\r\n  #spinner {\r\n    border-radius: 100%;\r\n    padding: 1em;\r\n    background-color: var(--light-bg);\r\n    backdrop-filter: blur(5px);\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n\t\tpointer-events: none;\r\n  }\r\n\r\n  #spinner.hidden {\r\n\t\tdisplay: none;\r\n  }\r\n\r\n  #message {\r\n    z-index: 10;\r\n    color: rgb(238, 131, 131);\r\n    text-align: center;\r\n    top: 25%;\r\n    position: relative;\r\n  }\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}